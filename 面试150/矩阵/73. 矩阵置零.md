[73. 矩阵置零](https://leetcode.cn/problems/set-matrix-zeroes/description/?envType=study-plan-v2&envId=top-interview-150)

<img width="693" height="606" alt="image" src="https://github.com/user-attachments/assets/3ab2d5f7-63be-48d0-9343-a29f04673372" />

# 标识数组
使用两个数组，一个长度为行数row：标识某一行是否存在元素0；一个长度为列数col：表示某一列是否存在元素0。
+ 第一遍遍历matrix，更新标识数组；
+ 第二遍遍历matrix，根据标识数组的信息，对matrix中的部分元素原地置零

```cpp
//标识数组
class Solution {
public:
    void setZeroes(vector<vector<int>>& matrix) {
        int row = matrix.size();
        int col = matrix[0].size();
        // 标识数组
        vector<int> flag_row(row), flag_col(col);
        // 更新标识数组
        for(int i = 0; i < row; i++){
            for(int j = 0; j < col; j++){
                if(!matrix[i][j])
                    flag_col[j] = flag_row[i] = 1;
            }
        }
        // 更新matrix
        for(int i = 0; i < row; i++){
            for(int j = 0; j < col; j++){
                if(flag_col[j] || flag_row[i])
                    matrix[i][j] = 0;
            }
        }
        
    }
};
```

# 优化：原地记录 + 两个标识变量
优化空间复杂度，使用数组原始的第一行和第一列，来存储某一列某一行是否存在0的标识————这会导致覆盖原本第一行、第一列的数据，因此需要额外的两个标识变量，标识第一行or第一列原本是否存在元素0。
+ 先遍历第一列/第一行，用两个标识变量记录是否存在0；
+ 从`matrix[1][1]`开始遍历矩阵，使用第一行/第一列来记录是否存在0


```cpp
  // 两个标识变量
class Solution {
public:
    void setZeroes(vector<vector<int>>& matrix) {
        int row = matrix.size();
        int col = matrix[0].size();
        int flag_row0 = 0;
        int flag_col0 = 0;
        // 第一行
        for(int j = 0; j < col; j++)
            if(!matrix[0][j]){
                flag_row0 = 1;
                break;
            }
        // 第一列
        for(int i = 0; i < row; i++)
            if(!matrix[i][0]){
                flag_col0 = 1;
                break;
            }
        // 更新标识【使用原矩阵】
        for(int i = 1; i < row; i++){
            for(int j = 1; j < col; j++){
                if(!matrix[i][j]){
                    matrix[0][j] = matrix[i][0] = 0;
                }
            }
        }

        // 原地更新矩阵
        for(int i = 1; i < row; i++){
            for(int j = 1; j < col; j++){
                if(!matrix[i][0] || !matrix[0][j])
                    matrix[i][j] = 0;
            }
        }
        
        if(flag_col0){
            for(int i = 0; i < row; i++)
                matrix[i][0] = 0;
        }
        if(flag_row0){
            for(int j = 0; j < col; j++)
                matrix[0][j] = 0;
        }    
    }
};
```
